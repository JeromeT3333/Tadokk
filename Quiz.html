<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Combined Neuro & Muscle — 100 T/F Quiz</title>
<style>
  :root{--bg:#0f1724;--card:#0b1220;--accent:#48b0bf;--muted:#9aa6b2;--correct:#1f7a1f;--wrong:#9b2b2b;--text:#e6eef6}
  :root.light{--bg:#f6f7fb;--card:#ffffff;--accent:#0d6efd;--muted:#3c4958;--correct:#1f7a1f;--wrong:#b02a37;--text:#111827}
  html,body{height:100%;margin:0;background:var(--bg);color:var(--text);font-family:Arial,Helvetica,sans-serif}
  .top-logo{position:fixed;top:8px;right:12px;max-height:56px;z-index:9999;width:auto}
  .wrap{max-width:980px;margin:28px auto;padding:16px;padding-top:10px}
  header{display:flex;justify-content:flex-start;align-items:center;gap:8px;margin-bottom:12px;margin-right:160px}
  h1{margin:0;font-size:1.25rem}
  .card{background:var(--card);padding:14px;border-radius:10px;box-shadow:0 6px 20px rgba(0,0,0,0.45)}
  .row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
  .input{padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);min-width:220px;background:transparent;color:var(--text)}
  .btn{background:var(--accent);color:#fff;padding:8px 12px;border-radius:8px;border:0;cursor:pointer}
  .ghost{background:transparent;border:1px solid rgba(255,255,255,0.08);color:var(--text);padding:8px 12px;border-radius:8px;cursor:pointer}
  .q{display:flex;justify-content:space-between;gap:12px;padding:10px;border-radius:8px;margin-bottom:8px;background:rgba(255,255,255,0.02)}
  .qtext{flex:1}
  .choices{display:flex;gap:12px;align-items:center}
  .correct{color:var(--correct);font-weight:600}
  .wrong{color:var(--wrong);font-weight:600}
  .results{margin-top:14px;padding:12px;border-radius:8px;background:rgba(0,0,0,0.12);color:var(--text)}
  footer{text-align:center;margin-top:16px;color:var(--muted);font-size:0.95rem}
  .nav{display:flex;justify-content:space-between;align-items:center;margin-top:10px;gap:8px}
  .timer{font-weight:700;color:#fff;background:var(--accent);padding:6px 12px;border-radius:14px;margin-left:12px;transition:all 0.25s ease;box-shadow:0 4px 12px rgba(0,0,0,0.25)}
  .timer.warning{background:#b02a37}
  .timer.urgent{background:#b02a37;animation:pulse 1s infinite}
  @keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.06)}100%{transform:scale(1)}}
  .small{font-size:0.9rem;color:var(--muted)}
  @media(max-width:720px){ .choices{flex-wrap:wrap} .top-logo{max-height:44px} header{margin-right:100px} }
</style>
</head>
<body>
<img class="top-logo" src="Tadokkico1.png" alt="Tadokkico logo" id="pageLogo">
<div class="wrap">
  <header><h1>Combined Neuro & Muscle — 100 True/False Quiz</h1></header>
  <div id="startCard" class="card">
    <div class="row">
      <input id="studentName" class="input" placeholder="Full name (required)"/>
      <input id="studentEmail" class="input" placeholder="Email (required)"/>
      <button id="startBtn" class="btn">Start Quiz</button>
      <button id="themeBtn" class="ghost">🌙 Dark</button>
      <button id="shuffleBtn" class="ghost">Shuffle</button>
    </div>
    <div style="margin-top:8px" class="small">30-minute timer starts when you click <strong>Start Quiz</strong>. Refresh to restart attempt.</div>
  </div>

  <div id="quizCard" class="card" style="display:none;margin-top:12px">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <div class="pageinfo small">Page <span id="pageNum">1</span>/<span id="pageCount">10</span>
        <span class="timer" id="timerDisplay"></span>
      </div>
      <div style="display:flex;gap:8px;align-items:center">
        <button id="prevBtn" class="ghost">◀ Prev</button>
        <button id="nextBtn" class="ghost">Next ▶</button>
      </div>
    </div>
    <div id="quiz" style="max-height:560px;overflow:auto;padding-right:6px;margin-top:10px"></div>
    <div class="nav"><div class="small">Corrections shown on web only. PDF shows summary only.</div><div><button id="submitBtn" class="btn">Submit</button></div></div>
    <div id="results" class="results" style="display:none"></div>
    <div style="display:flex;justify-content:flex-end;margin-top:10px;gap:8px"><button id="exportBtn" class="btn" style="display:none">Download Result!</button></div>
  </div>
  <footer>Powered by Tadokk</footer>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.1/jspdf.plugin.autotable.min.js"></script>

<script>
// 100 questions array
  const questions = [
  // === Neurophysiology (50) ===
  {q:"An excitable cell reacts to stimuli by changing its membrane properties.", a:true, topic:"Neuro"},
  {q:"A neuron is the structural and functional unit of the nervous system.", a:true, topic:"Neuro"},
  {q:"The cell body contains the nucleus and synthesizes most neuronal proteins.", a:true, topic:"Neuro"},
  {q:"Anterograde transport moves materials from the cell body down the axon.", a:true, topic:"Neuro"},
  {q:"Retrograde transport moves materials from the axon toward the cell body.", a:true, topic:"Neuro"},
  {q:"Dendrites mainly transmit impulses away from the cell body.", a:false, topic:"Neuro"},
  {q:"Action potentials usually originate at the axon hillock.", a:true, topic:"Neuro"},
  {q:"Axons conduct action potentials away from the cell body.", a:true, topic:"Neuro"},
  {q:"Axon terminals store neurotransmitters in vesicles.", a:true, topic:"Neuro"},
  {q:"Neuroglia are specialized for impulse conduction.", a:false, topic:"Neuro"},
  {q:"Astrocytes help form the blood–brain barrier.", a:true, topic:"Neuro"},
  {q:"Microglia act as phagocytes in the CNS.", a:true, topic:"Neuro"},
  {q:"Oligodendrocytes myelinate axons in the CNS.", a:true, topic:"Neuro"},
  {q:"Schwann cells myelinate axons in the PNS.", a:true, topic:"Neuro"},
  {q:"Satellite cells surround neurons in ganglia.", a:true, topic:"Neuro"},
  {q:"Multipolar neurons typically have many dendrites and one axon.", a:true, topic:"Neuro"},
  {q:"Sensory neurons conduct impulses toward the CNS.", a:true, topic:"Neuro"},
  {q:"Motor neurons carry commands away from the CNS.", a:true, topic:"Neuro"},
  {q:"Interneurons connect neurons within the CNS.", a:true, topic:"Neuro"},
  {q:"Cholinergic neurons release dopamine.", a:false, topic:"Neuro"},
  {q:"GABA is mainly inhibitory in the adult brain.", a:true, topic:"Neuro"},
  {q:"Glutamate is the main excitatory neurotransmitter.", a:true, topic:"Neuro"},
  {q:"Dopamine is unrelated to movement and behavior.", a:false, topic:"Neuro"},
  {q:"Serotonin can act as excitatory or inhibitory depending on receptors.", a:true, topic:"Neuro"},
  {q:"Conduction velocity depends on axon diameter and myelination.", a:true, topic:"Neuro"},
  {q:"Large diameter axons conduct slower than small ones.", a:false, topic:"Neuro"},
  {q:"Type Ia fibers carry proprioceptive information from muscle spindles.", a:true, topic:"Neuro"},
  {q:"Type IV fibers are small unmyelinated pain fibers.", a:true, topic:"Neuro"},
  {q:"Resting membrane potential of large nerve is about -90 mV.", a:true, topic:"Neuro"},
  {q:"Sodium concentration is higher inside the cell than outside.", a:false, topic:"Neuro"},
  {q:"Potassium concentration is higher inside the cell than outside.", a:true, topic:"Neuro"},
  {q:"Na+-K+ pump moves 3 Na+ out and 2 K+ in.", a:true, topic:"Neuro"},
  {q:"The Na+-K+ pump consumes ATP.", a:true, topic:"Neuro"},
  {q:"Action potential is rapid depolarization followed by repolarization.", a:true, topic:"Neuro"},
  {q:"During action potential, the membrane potential may reach +35 mV.", a:true, topic:"Neuro"},
  {q:"Voltage-gated sodium channels have activation and inactivation gates.", a:true, topic:"Neuro"},
  {q:"Voltage-gated K+ channels open more slowly than Na+ channels.", a:true, topic:"Neuro"},
  {q:"Myelin allows saltatory conduction between nodes of Ranvier.", a:true, topic:"Neuro"},
  {q:"Synapses can be electrical or chemical.", a:true, topic:"Neuro"},
  {q:"Excitatory postsynaptic potentials (EPSPs) depolarize the postsynaptic cell.", a:true, topic:"Neuro"},
  {q:"Inhibitory postsynaptic potentials (IPSPs) hyperpolarize the postsynaptic cell.", a:true, topic:"Neuro"},
  {q:"Temporal summation results from one presynaptic neuron firing repeatedly.", a:true, topic:"Neuro"},
  {q:"Spatial summation results from multiple presynaptic neurons firing together.", a:true, topic:"Neuro"},
  {q:"Absolute refractory period allows another action potential to fire immediately.", a:false, topic:"Neuro"},
  {q:"Relative refractory period requires stronger stimulus to fire.", a:true, topic:"Neuro"},
  {q:"CNS white matter is rich in myelinated axons.", a:true, topic:"Neuro"},
  {q:"CNS gray matter is composed mainly of neuron cell bodies.", a:true, topic:"Neuro"},
  {q:"Peripheral nerves contain only motor fibers.", a:false, topic:"Neuro"},
  {q:"Blood–brain barrier protects the CNS environment.", a:true, topic:"Neuro"},

  // === Muscle/Protein (50) ===
  {q:"Each skeletal muscle fiber is multinucleated with peripheral nuclei.", a:true, topic:"Muscle"},
  {q:"Satellite cells participate in muscle repair.", a:true, topic:"Muscle"},
  {q:"Slow-twitch fibers have more mitochondria than fast-twitch fibers.", a:true, topic:"Muscle"},
  {q:"Type IIx fibers fatigue more rapidly than Type IIa fibers.", a:true, topic:"Muscle"},
  {q:"Isometric contraction changes muscle length without tension.", a:false, topic:"Muscle"},
  {q:"Concentric contraction shortens the muscle while producing force.", a:true, topic:"Muscle"},
  {q:"Optimal sarcomere length generates maximum tension.", a:true, topic:"Muscle"},
  {q:"Muscle hypertrophy is mainly due to increase in fiber size.", a:true, topic:"Muscle"},
  {q:"The all-or-none law applies to whole muscles.", a:false, topic:"Muscle"},
  {q:"Tetanus occurs when rapid stimuli prevent relaxation.", a:true, topic:"Muscle"},
  {q:"Force–velocity curve shows heavy load increases contraction velocity.", a:false, topic:"Muscle"},
  {q:"Myoglobin is abundant in slow oxidative fibers.", a:true, topic:"Muscle"},
  {q:"Creatine phosphate provides immediate energy in contraction.", a:true, topic:"Muscle"},
  {q:"Muscle tone is due to partial activation of motor units at rest.", a:true, topic:"Muscle"},
  {q:"Muscle spindles detect stretch and its rate of change.", a:true, topic:"Muscle"},
  {q:"Golgi tendon organs sense muscle tension.", a:true, topic:"Muscle"},
  {q:"Motor unit recruitment follows the size principle.", a:true, topic:"Muscle"},
  {q:"ATP is needed for cross-bridge detachment.", a:true, topic:"Muscle"},
  {q:"Rigor mortis occurs because ATP is absent.", a:true, topic:"Muscle"},
  {q:"Excitation–contraction coupling in skeletal muscle depends only on extracellular calcium entry.", a:false, topic:"Muscle"},
  {q:"Cardiac muscle fibers are branched and connected by intercalated discs.", a:true, topic:"Muscle"},
  {q:"Gap junctions allow spread of impulses in cardiac muscle.", a:true, topic:"Muscle"},
  {q:"Pacemaker potential is partly due to funny sodium currents.", a:true, topic:"Muscle"},
  {q:"Phase 0 of ventricular action potential is by fast Na+ channels.", a:true, topic:"Muscle"},
  {q:"Plateau phase is maintained by L-type calcium channels.", a:true, topic:"Muscle"},
  {q:"Cardiac muscle cannot tetanize due to long refractory period.", a:true, topic:"Muscle"},
  {q:"Frank–Starling law relates end-diastolic volume to stroke volume.", a:true, topic:"Muscle"},
  {q:"Beta-adrenergic stimulation increases heart rate and contractility.", a:true, topic:"Muscle"},
  {q:"Ischemia forces cardiac muscle to depend more on anaerobic glycolysis.", a:true, topic:"Muscle"},
  {q:"Cardiac troponin is used clinically to detect heart injury.", a:true, topic:"Muscle"},
  {q:"Potassium efflux helps repolarize cardiac cells.", a:true, topic:"Muscle"},
  {q:"High extracellular K+ always increases excitability.", a:false, topic:"Muscle"},
  {q:"Purkinje fibers conduct impulses faster than AV node.", a:true, topic:"Muscle"},
  {q:"AV node has the slowest conduction velocity.", a:true, topic:"Muscle"},
  {q:"Sympathetic input steepens pacemaker slope.", a:true, topic:"Muscle"},
  {q:"Cardiac contraction uses Ca-induced Ca release.", a:true, topic:"Muscle"},
  {q:"Ventricular fibrillation maintains cardiac output.", a:false, topic:"Muscle"},
  {q:"Calcium channel blockers reduce contractility.", a:true, topic:"Muscle"},
  {q:"Smooth muscle has actin and myosin but no sarcomeres.", a:true, topic:"Muscle"},
  {q:"Dense bodies anchor actin in smooth muscle.", a:true, topic:"Muscle"},
  {q:"Smooth muscle contraction uses MLCK and calmodulin.", a:true, topic:"Muscle"},
  {q:"Troponin regulates contraction in smooth muscle.", a:false, topic:"Muscle"},
  {q:"Smooth muscle can maintain tone with low ATP (latch state).", a:true, topic:"Muscle"},
  {q:"Nitric oxide relaxes smooth muscle via cGMP.", a:true, topic:"Muscle"},
  {q:"Proteins are polymers of amino acids.", a:true, topic:"Protein"},
  {q:"Peptide bonds are rigid and planar.", a:true, topic:"Protein"},
  {q:"Biuret test is a general test for proteins.", a:true, topic:"Protein"},
  {q:"Primary structure means amino acid sequence.", a:true, topic:"Protein"},
  {q:"Not all polypeptides are proteins.", a:true, topic:"Protein"}
];

// ===== Quiz logic =====
(() => {
  let studentName='', studentEmail='', answers=[], timerInterval=null, timeLeft=30*60;
  const pageSize=10; let currentPage=0;
  const startCard=document.getElementById('startCard'), quizCard=document.getElementById('quizCard'),
        quizDiv=document.getElementById('quiz'), startBtn=document.getElementById('startBtn'),
        prevBtn=document.getElementById('prevBtn'), nextBtn=document.getElementById('nextBtn'),
        submitBtn=document.getElementById('submitBtn'), resultsDiv=document.getElementById('results'),
        exportBtn=document.getElementById('exportBtn'), shuffleBtn=document.getElementById('shuffleBtn'),
        themeBtn=document.getElementById('themeBtn'), pageNumSpan=document.getElementById('pageNum'),
        pageCountSpan=document.getElementById('pageCount'), timerDisplay=document.getElementById('timerDisplay'),
        pageLogo=document.getElementById('pageLogo');

  pageCountSpan.textContent=Math.ceil(questions.length/pageSize);
  function shuffleArray(arr){for(let i=arr.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[arr[i],arr[j]]=[arr[j],arr[i]];}return arr;}
  function escapeHtml(s){return String(s).replace(/[&<>"']/g,m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));}
  function renderPage(p=0){quizDiv.innerHTML='';const start=p*pageSize;questions.slice(start,start+pageSize).forEach((it,idx)=>{const i=start+idx;const d=document.createElement('div');d.className='q';d.innerHTML=`<div class="qtext"><strong>Q${i+1}.</strong> ${escapeHtml(it.q)}</div><div class="choices"><label><input type="radio" name="q${i}" value="true"${answers[i]==='true'?'checked':''}> True</label><label><input type="radio" name="q${i}" value="false"${answers[i]==='false'?'checked':''}> False</label></div>`;quizDiv.appendChild(d);d.querySelectorAll('input').forEach(r=>r.addEventListener('change',e=>answers[i]=e.target.value));});prevBtn.disabled=p===0;nextBtn.disabled=p===Math.ceil(questions.length/pageSize)-1;pageNumSpan.textContent=p+1;quizDiv.scrollTop=0;}
  function startTimer(){clearInterval(timerInterval);timeLeft=30*60;updateTimer();timerInterval=setInterval(()=>{timeLeft--;updateTimer();if(timeLeft<=0){clearInterval(timerInterval);submitQuiz(true);}},1000);}
  function updateTimer(){const mm=String(Math.floor(timeLeft/60)).padStart(2,'0'),ss=String(timeLeft%60).padStart(2,'0');timerDisplay.textContent=`⏱ ${mm}:${ss}`;timerDisplay.classList.remove('warning','urgent');if(timeLeft<=300)timerDisplay.classList.add('warning');if(timeLeft<=60)timerDisplay.classList.add('urgent');}
  startBtn.onclick=()=>{const n=document.getElementById('studentName').value.trim(),e=document.getElementById('studentEmail').value.trim();if(!n||!e.includes('@'))return alert('Enter valid name/email');studentName=n;studentEmail=e;answers=Array(questions.length).fill(null);shuffleArray(questions);startCard.style.display='none';quizCard.style.display='block';currentPage=0;renderPage(currentPage);resultsDiv.style.display='none';exportBtn.style.display='none';startTimer();};
  prevBtn.onclick=()=>{if(currentPage>0){currentPage--;renderPage(currentPage);}};
  nextBtn.onclick=()=>{if(currentPage<Math.ceil(questions.length/pageSize)-1){currentPage++;renderPage(currentPage);}};
  shuffleBtn.onclick=()=>{shuffleArray(questions);answers=Array(questions.length).fill(null);currentPage=0;renderPage(currentPage);resultsDiv.style.display='none';exportBtn.style.display='none';};
  themeBtn.onclick=()=>{document.documentElement.classList.toggle('light');themeBtn.textContent=document.documentElement.classList.contains('light')?'☀️ Light':'🌙 Dark';};
  function submitQuiz(auto=false){clearInterval(timerInterval);let correct=0,topicStats={};questions.forEach((q,i)=>{const ex=q.a?'true':'false',gv=answers[i]||null,ok=gv===ex;if(ok)correct++;if(!topicStats[q.topic])topicStats[q.topic]={total:0,wrong:0};topicStats[q.topic].total++;if(!ok)topicStats[q.topic].wrong++;});const percent=Math.round((correct/questions.length)*100);let fAreas=Object.entries(topicStats).map(([t,v])=>({topic:t,total:v.total,missed:v.wrong})).filter(x=>x.missed>0).sort((a,b)=>a.missed-b.missed);let html=`<h3>Results — ${escapeHtml(studentName)}</h3><p><strong>Email:</strong> ${escapeHtml(studentEmail)}</p><p><strong>Score:</strong> ${correct}/${questions.length} (${percent}%)</p>`;if(fAreas.length===0)html+=`<p>Excellent — no misses.</p>`;else{html+=`<p><strong>Focus areas:</strong></p><ul>`;fAreas.forEach(f=>html+=`<li>${f.topic} — missed ${f.missed}/${f.total}</li>`);html+=`</ul>`;}resultsDiv.innerHTML=html;resultsDiv.style.display='block';exportBtn.style.display='inline-block';}
  submitBtn.onclick=()=>submitQuiz(false);
})();
</script>
</body>
</html> 